<main class="min-h-screen bg-gray-100 p-6">
  <h1 class="text-3xl font-bold text-center mb-8 text-cyan-700">Mis Compras</h1>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center text-gray-600">
    Cargando historial de compras...
  </div>

  <!-- Error o sin resultados -->
  <div *ngIf="!loading && error" class="text-center text-red-600 font-medium">
    {{ error }}
  </div>

  <!-- Lista de facturas -->
  <div *ngIf="!loading && facturas.length > 0" class="space-y-8 max-w-4xl mx-auto">
    <div *ngFor="let factura of facturas" class="bg-white rounded-lg shadow p-6 border border-cyan-200">
      <div class="flex justify-between items-center mb-4">
        <div>
          <h2 class="text-lg font-bold text-cyan-800">Factura ID: {{ factura.factura_id }}</h2>
          <p class="text-sm text-gray-500">Fecha: {{ factura.fecha | date:'mediumDate' }}</p>
        </div>
        <div class="text-right text-lg font-bold text-green-600">
          Total: ${{ factura.total }}
        </div>
      </div>

      <!-- Productos -->
      <div class="space-y-2">
        <div *ngFor="let producto of factura.productos" class="flex justify-between text-sm text-gray-700">
          <div>
            <span class="font-medium">{{ producto.nombre }}</span> Ã— {{ producto.cantidad }}
          </div>
          <div>
            ${{ producto.subtotal }}
          </div>
        </div>
      </div>

      <!-- Estado -->
      <div class="mt-4 text-sm text-right text-gray-600">
        Estado: <span class="font-semibold text-indigo-700">{{ factura.estado }}</span>
      </div>
    </div>
  </div>
</main>
